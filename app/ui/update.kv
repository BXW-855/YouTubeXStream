#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import subprocess subprocess
#:set app_name "YouTubeXStream Updater"
<MDLabel>
    allow_copy:True
    allow_selection:True

ScreenManager:
    transition:FadeTransition()
    MDScreen:
        name:"main_screen"
        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: self.theme_cls.backgroundColor
            MDTopAppBar:
                id:v_app_bar
                type: "small" 
                size_hint_x: .95 
                theme_color:"custom"
                pos_hint: {"center_x": .5} 
                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "menu"
                        # on_press:
                        #     root.current = "completed_screen"
    
                MDTopAppBarTitle:
                    text: app_name
                    pos_hint:{"center_x":.5}
                MDTopAppBarTrailingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "account-circle"
            MDFloatLayout:
                size_hint:.95,1
                MDCard:
                    orientation: 'vertical'
                    spacing:"10dp"
                    padding: "10dp"
                    pos_hint: {"center_y": .5,"center_x":.5}
                    size_hint: None, None
                    style: "elevated"
                    size:"550dp","300dp"
                    MDLabel:
                        id:title
                        text:"Updating"
                        font_style:"Title"
                        role:"large"
                        halign:"center"
                        adaptive_height:True

                    MDBoxLayout:
                        pading:"10dp"
                        orientation: 'vertical'
                        adaptive_height:True
                        MDBoxLayout:
                            adaptive_height:True
                            spacing:"20dp"
                            FitImage:
                                id:author_avatar
                                size_hint:None,None
                                size:"50dp","50dp"
                                radius:[50]
                            MDLabel:
                                color:self.theme_cls.secondaryColor
                                adaptive_height:True
                                # halign:"right"
                                id:author_insta
                                pos_hint:{"center_y":.5}
                                text:"by @Benex254"
                        # MDBoxLayout: 
                        #     adaptive_height:True
                        #     MDLabel:
                        #         text:"repo url:"
                        #         color:self.theme_cls.secondaryColor
                        #         adaptive_size:True
                        #     MDLabel:
                        #         color:self.theme_cls.secondaryColor
                        #         adaptive_size:True
                        #         id:author_repo_url
                        #         text:""
                        
                    MDBoxLayout:
                    MDBoxLayout:
                        orientation:"vertical"
                        spacing:"10dp"
                        size_hint_y: None
                        height: "40dp"                
                        MDLinearProgressIndicator:
                            id:update_progress
                            size_hint_x:1
                            value:0
                            pos_hint:{"center_y":.5}
                            size_hint_y: None
                            height: "30dp"           
                        MDLabel:
                            id:update_progress_label
                            text:"Initializing..."
                            font_style:"Label"
                            role:"small"
                            pos_hint:{"center_y":.5}
                            adaptive_size:True
                    MDBoxLayout:
                    MDBoxLayout:
                        adaptive_height:True
                        spacing:"10dp"
                        MDLabel:
                            id:job_type
                            text:"Downloading:"
                            adaptive_size:True
                            font_style:"Label"
                            role:"medium"
                        MDLabel:
                            id:asset
                            font_style:"Label"
                            role:"small"
                            text:""
                            
    MDScreen:           
        name:"completed_screen"
        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: self.theme_cls.backgroundColor
            MDTopAppBar:
                id:v_app_bar
                type: "small" 
                size_hint_x: .95 
                theme_color:"custom"
                pos_hint: {"center_x": .5} 
                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "menu"
                        # on_press:
                        #     root.current = "main_screen"
                MDTopAppBarTitle:
                    text: app_name
                    pos_hint:{"center_x":.5}
                MDTopAppBarTrailingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "account-circle"
            MDFloatLayout:
                size_hint:.95,1
                MDCard:
                    orientation: 'vertical'
                    spacing:"10dp"
                    padding: "10dp"
                    pos_hint: {"center_y": .5,"center_x":.5}
                    size_hint: None, None
                    style: "elevated"
                    size:"450dp","400dp"
                    MDLabel:
                        id:update_result
                        text:""
                        font_style:"Title"
                        role:"large"
                        halign:"center"
                        # adaptive_height:True
                    MDButton:
                        id:update_btn
                        pos_hint: {'center_x': 0.5,'center_y': 0.5}
                        on_press:
                            app.stop()
                            subprocess.call("YouTubeXStream.exe")
                        MDButtonText:
                            text:"Close"

                        # adaptive_height:True

             